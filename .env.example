# --- Profile ---
APP_PROFILE=DEV
TELEGRAM_USE_POLLING=false

# --- Database ---
DATABASE_URL=jdbc:postgresql://postgres:5432/botdb
DATABASE_USER=botuser
DATABASE_PASSWORD=botpass

# --- Health ---
HEALTH_DB_TIMEOUT_MS=150

# --- Flyway ---
FLYWAY_ENABLED=true
FLYWAY_LOCATIONS=classpath:db/migration
FLYWAY_BASELINE_ON_MIGRATE=true
FLYWAY_VALIDATE_ONLY=false

# --- Telegram bot ---
TELEGRAM_BOT_TOKEN=8350348476:AAGlKEAi69gnGN-GCi8sxrVFVFoQukWJ-iU
BOT_USERNAME=NightConciergeBot
OWNER_TELEGRAM_ID=7446417641

# --- Webhook (optional) ---
WEBHOOK_BASE_URL=https://your.domain.tld
WEBHOOK_SECRET_TOKEN=replace_me

# --- WebApp / QR ---
# HMAC secret for QR signatures (P02-04)
QR_SECRET=replace_me_qr_secret

# --- Workers / RatePolicy ---
GLOBAL_RPS=25
CHAT_RPS=1.5
WORKER_PARALLELISM=4

# --- Local Bot API (optional) ---
LOCAL_BOT_API_ENABLED=false
# TELEGRAM_API_ID=
# TELEGRAM_API_HASH=
# LOCAL_BOT_API_URL=http://local_bot_api:8081/bot

# --- HQ (notify endpoints) ---
HQ_CHAT_ID=-1002693051031
HQ_GENERAL_THREAD_ID=19
HQ_BOOKINGS_THREAD_ID=2
HQ_QA_THREAD_ID=6
HQ_LISTS_THREAD_ID=3
HQ_SYSTEM_THREAD_ID=4

# --- CLUB 1 (Mix) ---
CLUB1_CHAT_ID=-1003032666045
CLUB1_GENERAL_THREAD_ID=1
CLUB1_BOOKINGS_THREAD_ID=2
CLUB1_LISTS_THREAD_ID=3
CLUB1_QA_THREAD_ID=4
CLUB1_MEDIA_THREAD_ID=5
CLUB1_SYSTEM_THREAD_ID=7

# --- CLUB 2 (Osobnyak) ---
CLUB2_CHAT_ID=-1003015873542
CLUB2_GENERAL_THREAD_ID=1
CLUB2_BOOKINGS_THREAD_ID=2
CLUB2_LISTS_THREAD_ID=4
CLUB2_QA_THREAD_ID=5
CLUB2_MEDIA_THREAD_ID=6
CLUB2_SYSTEM_THREAD_ID=7

# --- CLUB 3 (internal name) ---
CLUB3_CHAT_ID=-1003082862964
CLUB3_GENERAL_THREAD_ID=1
CLUB3_BOOKINGS_THREAD_ID=2
CLUB3_LISTS_THREAD_ID=3
CLUB3_QA_THREAD_ID=4
CLUB3_MEDIA_THREAD_ID=5
CLUB3_SYSTEM_THREAD_ID=6

# --- CLUB 4 (NN) ---
CLUB4_CHAT_ID=-1002988144234
CLUB4_GENERAL_THREAD_ID=1
CLUB4_BOOKINGS_THREAD_ID=2
CLUB4_LISTS_THREAD_ID=3
CLUB4_QA_THREAD_ID=4
CLUB4_MEDIA_THREAD_ID=5
CLUB4_SYSTEM_THREAD_ID=6
# ------------------------------
# Rate Limit (20.5)
# ------------------------------
RL_IP_ENABLED=true
RL_IP_RPS=100
RL_IP_BURST=20
RL_SUBJECT_ENABLED=true
RL_SUBJECT_RPS=60
RL_SUBJECT_BURST=20
RL_SUBJECT_TTL_SECONDS=600
RL_RETRY_AFTER_SECONDS=1

# ------------------------------
# Hot Path limiter (20.1)
# ------------------------------
HOT_PATH_MAX_CONCURRENT=8
HOT_PATH_RETRY_AFTER_SEC=1
MAX_REQUEST_SIZE_BYTES=2097152

# ------------------------------
# One-Time Tokens (20.6)
# ------------------------------
OTT_TTL_SECONDS=300
OTT_MAX_ENTRIES=100000

# ------------------------------
# Hall render cache (20.4)
# ------------------------------
HALL_CACHE_MAX_ENTRIES=500
HALL_CACHE_TTL_SECONDS=60
HALL_BASE_IMAGE_VERSION=1

# ------------------------------
# Hikari / Tx tuning (20.2)
# ------------------------------
HIKARI_MAX_POOL_SIZE=20
HIKARI_MIN_IDLE=2
HIKARI_CONN_TIMEOUT_MS=5000
HIKARI_VALIDATION_TIMEOUT_MS=2000
HIKARI_LEAK_DETECTION_MS=10000

DB_TX_MAX_RETRIES=3
DB_TX_BASE_BACKOFF_MS=500
DB_TX_MAX_BACKOFF_MS=15000
DB_TX_JITTER_MS=100
DB_SLOW_QUERY_MS=200
