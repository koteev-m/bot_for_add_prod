include "application-dev.conf"
include file("application-${?APP_ENV}.conf")

ktor {
    application {
      modules = [ com.example.bot.ApplicationKt.module ]
    }
  routing {
    webhook = "/webhook"
    health = "/health"
    metrics = "/metrics"
    api = "/api"
  }
  netty {
    requestReadTimeoutSeconds = 15
    responseWriteTimeoutSeconds = 15
    connectionIdleTimeoutSeconds = 45
  }
}

observability {
  prometheus = ${?OBS_PROMETHEUS_ENABLED}
  health-db-timeout-ms = ${?OBS_HEALTH_DB_TIMEOUT_MS}
}
tracing {
  enabled = ${?TRACING_ENABLED}
  otlp-endpoint = "${OTLP_ENDPOINT}"
}
log {
  json = ${?LOG_JSON}
  level = "${LOG_LEVEL}"
}
